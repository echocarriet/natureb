(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-105f7666"],{"1c33":function(t,e,a){"use strict";a("caad"),a("2532"),a("a434");e["a"]={methods:{saveLocalStorage:function(t){var e=JSON.stringify(t);localStorage.setItem("saveFavorite",e)},getLocalStorage:function(){return JSON.parse(localStorage.getItem("saveFavorite"))},addFavorite:function(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.$swal({title:'<p class="h4">商品已從收藏清單中移除</p>',icon:"success"})):(this.myFavorite.push(t.id),this.$swal({title:'<p class="h4">商品已加入收藏清單</p>',icon:"success"})),this.saveLocalStorage(this.myFavorite),this.emitter.emit("update-favorite")}},inject:["emitter"]}},2355:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),o=a("a8b0"),n=a.n(o),r=Object(c["createVNode"])("header",{class:"position-relative"},[Object(c["createVNode"])("img",{class:"bg-mask-60 img-cover pageBanner w-100",src:n.a,alt:"購物車banner"}),Object(c["createVNode"])("h2",{class:"position-absolute text-hv-center h2 fw-bold text-white-50 pageBanner-text"}," cart ")],-1),i={class:"window-vh100"},s={key:0,class:"container py-7 py-md-9"},l=Object(c["createVNode"])("h3",{class:"h3 fw-bold mb-4 mb-md-6"},"購物車",-1),d={class:"table table-striped mb-4 mb-md-6"},b=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",{class:"text-center bg-brown-400"},[Object(c["createVNode"])("th",{class:"border-bottom-0 d-none d-md-table-cell",style:{width:"15%"}}),Object(c["createVNode"])("th",{class:"border-bottom-0"},"名稱"),Object(c["createVNode"])("th",{class:"cartQrt border-bottom-0 d-none d-md-table-cell"},"數量"),Object(c["createVNode"])("th",{class:"border-bottom-0"},"單價"),Object(c["createVNode"])("th",{class:"border-bottom-0"},"金額"),Object(c["createVNode"])("th",{class:"border-bottom-0"},"刪除")])],-1),u={class:"d-none d-md-table-cell"},p={class:"mb-2 mb-md-0"},h={class:"input-group d-md-none"},v={class:"input-group-prepend"},f=Object(c["createVNode"])("i",{class:"bi bi-dash"},null,-1),j={class:"form-control text-center"},g={class:"input-group-append"},O=Object(c["createVNode"])("i",{class:"bi bi-plus"},null,-1),m={class:"d-none d-md-table-cell"},N={class:"input-group"},x={class:"input-group-prepend"},V=Object(c["createVNode"])("i",{class:"bi bi-dash"},null,-1),y={class:"form-control text-center"},w={class:"input-group-append"},C=Object(c["createVNode"])("i",{class:"bi bi-plus"},null,-1),k={class:"text-end"},L={class:"text-end"},S=Object(c["createVNode"])("i",{class:"bi bi-x"},null,-1),$={class:"row mb-6"},T={class:"col-md-6"},B=Object(c["createVNode"])("p",{class:"h6 text-secondary mb-2"},"➤ 開店慶輸入優惠碼 happybaby 即可享九折優惠",-1),F={class:"input-group mb-3 input-group"},_={class:"col-md-6"},I={class:"h4 fw-bold text-end mb-3"},D={key:0,class:"h4 fw-bold text-end"},q={class:"text-end text-danger"},A=Object(c["createVNode"])("hr",null,null,-1),E={class:"text-end"},M=Object(c["createTextVNode"])("繼續購物"),J=Object(c["createTextVNode"])("前往結帳"),z={key:1,class:"container text-center py-7 py-md-9"},P=Object(c["createVNode"])("p",null,[Object(c["createTextVNode"])(" 購物車目前尚無商品唷 ! "),Object(c["createVNode"])("br"),Object(c["createTextVNode"])(" 歡迎至賣場逛逛 ")],-1),U=Object(c["createTextVNode"])("商品列表");function Y(t,e,a,o,n,Y){var Q=Object(c["resolveComponent"])("Navbar"),R=Object(c["resolveComponent"])("Loading"),W=Object(c["resolveComponent"])("router-link"),G=Object(c["resolveComponent"])("Footer");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(Q),Object(c["createVNode"])(R,{active:n.isLoading,"z-index":1060},null,8,["active"]),r,Object(c["createVNode"])("div",i,[n.cart.final_total>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",s,[l,Object(c["createVNode"])("table",d,[b,Object(c["createVNode"])("tbody",null,[n.cart.carts?(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],{key:0},Object(c["renderList"])(n.cart.carts,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e,class:"align-middle text-center"},[Object(c["createVNode"])("th",u,[Object(c["createVNode"])("img",{src:e.product.imageUrl,alt:e.product.title,style:{width:"100px"}},null,8,["src","alt"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("p",p,Object(c["toDisplayString"])(e.product.title),1),Object(c["createVNode"])("div",h,[Object(c["createVNode"])("div",v,[Object(c["createVNode"])("button",{class:"btn btn-primary rounded-end-0 d-flex align-items-center",type:"button",disabled:1===e.qty,onClick:function(t){return Y.updateCart(e.id,e.qty-1)}},[f],8,["disabled","onClick"])]),Object(c["createVNode"])("span",j,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("div",g,[Object(c["createVNode"])("button",{class:"btn btn-primary d-flex align-items-center rounded-start-0",type:"button",onClick:function(t){return Y.updateCart(e.id,e.qty+1)}},[O],8,["onClick"])])])]),Object(c["createVNode"])("td",m,[Object(c["createVNode"])("div",N,[Object(c["createVNode"])("div",x,[Object(c["createVNode"])("button",{class:"btn btn-primary rounded-end-0 d-flex align-items-center",type:"button",disabled:1===e.qty,onClick:function(t){return Y.updateCart(e.id,e.qty-1)}},[V],8,["disabled","onClick"])]),Object(c["createVNode"])("span",y,Object(c["toDisplayString"])(e.qty),1),Object(c["createVNode"])("div",w,[Object(c["createVNode"])("button",{class:"btn btn-primary d-flex align-items-center rounded-start-0",type:"button",onClick:function(t){return Y.updateCart(e.id,e.qty+1)}},[C],8,["onClick"])])])]),Object(c["createVNode"])("td",k,"$"+Object(c["toDisplayString"])(t.$filters.currency(e.product.price)),1),Object(c["createVNode"])("td",L,"$"+Object(c["toDisplayString"])(t.$filters.currency(e.product.price*e.qty)),1),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",disabled:n.status.loadingItem===e.id,onClick:function(t){return Y.removeCartItem(e.id)}},[S],8,["disabled","onClick"])])])})),128)):Object(c["createCommentVNode"])("",!0)])]),Object(c["createVNode"])("div",$,[Object(c["createVNode"])("div",T,[B,Object(c["createVNode"])("div",F,[Object(c["withDirectives"])(Object(c["createVNode"])("input",{type:"text",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=function(t){return n.coupon_code=t}),placeholder:"請輸入優惠碼"},null,512),[[c["vModelText"],n.coupon_code,void 0,{trim:!0}]]),Object(c["createVNode"])("button",{class:"btn btn-secondary text-white",type:"button",onClick:e[2]||(e[2]=function(){return Y.addCouponCode&&Y.addCouponCode.apply(Y,arguments)})}," 套用優惠碼 ")])]),Object(c["createVNode"])("div",_,[Object(c["createVNode"])("p",I,"總金額 : NT $"+Object(c["toDisplayString"])(t.$filters.currency(n.cart.total)),1),n.cart.final_total!==n.cart.total?(Object(c["openBlock"])(),Object(c["createBlock"])("p",D,[Object(c["createVNode"])("span",q,"折扣價 : NT $"+Object(c["toDisplayString"])(t.$filters.currency(n.cart.final_total)),1)])):Object(c["createCommentVNode"])("",!0)])]),A,Object(c["createVNode"])("div",E,[Object(c["createVNode"])(W,{class:"btn btn-outline-secondary me-4",to:"/products"},{default:Object(c["withCtx"])((function(){return[M]})),_:1}),Object(c["createVNode"])(W,{class:"btn btn-warning text-white",to:"/checkoutform"},{default:Object(c["withCtx"])((function(){return[J]})),_:1})])])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",z,[P,Object(c["createVNode"])(W,{class:"btn btn-primary",to:"/products"},{default:Object(c["withCtx"])((function(){return[U]})),_:1})]))]),Object(c["createVNode"])(G)],64)}a("99af");var Q=a("bebf"),R=a("acd4"),W={data:function(){return{isLoading:!1,status:{loadingItem:""},cart:{},coupon_code:""}},inject:["emitter"],components:{Navbar:Q["a"],Footer:R["a"]},methods:{getCart:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart");this.$http.get(e).then((function(e){e.data.success?(t.isLoading=!1,t.cart=e.data.data):t.$swal({title:'<p class="h4"> '.concat(e.data.message,"</p>"),icon:"error"})}))},updateCart:function(t,e){var a=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart/").concat(t),o={product_id:t,qty:e};this.$http.put(c,{data:o}).then((function(t){t.data.success?(a.$swal({title:'<p class="h4"> '.concat(t.data.message,"</p>"),icon:"success"}),a.isLoading=!1,a.getCart()):a.$swal({title:'<p class="h4"> '.concat(t.data.message,"</p>"),icon:"error"})})).catch((function(t){a.$swal({title:'<p class="h4"> '.concat(t,"</p>"),icon:"error"})}))},removeCartItem:function(t){var e=this;this.status.loadingItem=t;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart/").concat(t);this.isLoading=!0,this.$http.delete(a).then((function(t){t.data.success?(e.$swal({title:'<p class="h4">'.concat(t.data.message,"</p>"),icon:"success"}),e.status.loadingItem="",e.isLoading=!1,e.emitter.emit("update-cart"),e.getCart()):(e.$swal({title:'<p class="h4">'.concat(t.data.message,"</p>"),icon:"error"}),e.isLoading=!1)})).catch((function(t){e.$swal({title:'<p class="h4"> '.concat(t,"</p>"),icon:"error"})}))},addCouponCode:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/coupon"),a={code:this.coupon_code};this.isLoading=!0,this.$http.post(e,{data:a}).then((function(e){e.data.success?(t.$swal({title:'<p class="h4">此商品'.concat(e.data.message,"</p>"),icon:"success"}),t.isLoading=!1,t.coupon_code="",t.getCart()):(t.$swal({title:'<p class="h4">'.concat(e.data.message,"</p>"),icon:"error"}),t.isLoading=!1,t.getCart())}))}},mounted:function(){this.getCart()}};W.render=Y;e["default"]=W},2532:function(t,e,a){"use strict";var c=a("23e7"),o=a("5a34"),n=a("1d80"),r=a("ab13");c({target:"String",proto:!0,forced:!r("includes")},{includes:function(t){return!!~String(n(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var c=a("861d"),o=a("c6b6"),n=a("b622"),r=n("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[r])?!!e:"RegExp"==o(t))}},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},"99af":function(t,e,a){"use strict";var c=a("23e7"),o=a("d039"),n=a("e8b5"),r=a("861d"),i=a("7b0b"),s=a("50c4"),l=a("8418"),d=a("65f0"),b=a("1dde"),u=a("b622"),p=a("2d00"),h=u("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",j=p>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=b("concat"),O=function(t){if(!r(t))return!1;var e=t[h];return void 0!==e?!!e:n(t)},m=!j||!g;c({target:"Array",proto:!0,forced:m},{concat:function(t){var e,a,c,o,n,r=i(this),b=d(r,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(n=-1===e?r:arguments[e],O(n)){if(o=s(n.length),u+o>v)throw TypeError(f);for(a=0;a<o;a++,u++)a in n&&l(b,u,n[a])}else{if(u>=v)throw TypeError(f);l(b,u++,n)}return b.length=u,b}})},a8b0:function(t,e,a){t.exports=a.p+"img/checkout.a0f50736.jpg"},ab13:function(t,e,a){var c=a("b622"),o=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[o]=!1,"/./"[t](e)}catch(c){}}return!1}},acd4:function(t,e,a){"use strict";var c=a("7a23"),o={class:"bg-brown-400 py-3"},n=Object(c["createVNode"])("div",{class:"container text-center"},[Object(c["createVNode"])("p",{class:"mb-0"},"此網站僅做為個人學習使用，非商業用途")],-1);function r(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[n])}const i={};i.render=r;e["a"]=i},bebf:function(t,e,a){"use strict";var c=a("7a23"),o={class:"container"},n={class:"logoText mb-0 d-flex align-items-center"},r=Object(c["createTextVNode"])("natureB"),i=Object(c["createVNode"])("i",{class:"bi bi-heart text-warning h3 mb-0"},null,-1),s={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},l=Object(c["createVNode"])("i",{class:"bi bi-cart text-warning h3 mb-0"},null,-1),d={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},b=Object(c["createVNode"])("span",{class:"navbar-toggler-icon"},null,-1),u=Object(c["createVNode"])("i",{class:"bi bi-heart text-warning h3"},null,-1),p={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},h=Object(c["createVNode"])("i",{class:"bi bi-cart text-warning h3"},null,-1),v={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}};function f(t,e,a,f,j,g){var O=Object(c["resolveComponent"])("router-link"),m=Object(c["resolveComponent"])("NavbarModal");return Object(c["openBlock"])(),Object(c["createBlock"])("nav",{class:["navbar navbar-expand-lg fixed-top",[j.isActive?[j.classList.navbarTop,j.classList.navbarInner,j.classList.navbarShadow]:"navbar-dark"]],id:"navbar-top"},[Object(c["createVNode"])("div",o,[Object(c["createVNode"])("h1",n,[Object(c["createVNode"])(O,{class:"navbar-brand fw-bold mb-0",style:{"font-size":"27px"},to:"/"},{default:Object(c["withCtx"])((function(){return[r]})),_:1})]),Object(c["createVNode"])(O,{class:"position-relative d-flex d-block d-lg-none ms-auto nav-link",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[i,Object(c["createVNode"])("span",s,Object(c["toDisplayString"])(j.myFavorite.length),1)]})),_:1}),Object(c["createVNode"])(O,{class:"position-relative d-flex d-block d-lg-none nav-link",to:"/cart"},{default:Object(c["withCtx"])((function(){return[l,Object(c["createVNode"])("span",d,Object(c["toDisplayString"])(j.cart.length),1)]})),_:1}),Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:e[1]||(e[1]=function(){return g.mobileBtn&&g.mobileBtn.apply(g,arguments)})},[b]),Object(c["createVNode"])(m,{ref:"NavbarModal"},null,512),Object(c["createVNode"])(O,{class:"position-relative d-flex d-none d-lg-block nav-link",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[u,Object(c["createVNode"])("span",p,Object(c["toDisplayString"])(j.myFavorite.length),1)]})),_:1}),Object(c["createVNode"])(O,{class:"position-relative d-flex d-none d-lg-block nav-link",to:"/cart"},{default:Object(c["withCtx"])((function(){return[h,Object(c["createVNode"])("span",v,Object(c["toDisplayString"])(j.cart.length),1)]})),_:1})])],2)}a("99af"),a("159b");var j={class:"collapse navbar-collapse",ref:"bsCollapse",id:"navbarNav"},g={class:"navbar-nav ms-auto mb-2 mb-lg-0"},O={class:"nav-item"},m=Object(c["createTextVNode"])("所有產品"),N={class:"nav-item"},x=Object(c["createTextVNode"])("常見問題"),V={class:"nav-item"},y=Object(c["createTextVNode"])("聯絡我們");function w(t,e,a,o,n,r){var i=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",j,[Object(c["createVNode"])("ul",g,[Object(c["createVNode"])("li",O,[Object(c["createVNode"])(i,{class:"nav-link",to:"/products"},{default:Object(c["withCtx"])((function(){return[m]})),_:1})]),Object(c["createVNode"])("li",N,[Object(c["createVNode"])(i,{class:"nav-link",to:"/faq"},{default:Object(c["withCtx"])((function(){return[x]})),_:1})]),Object(c["createVNode"])("li",V,[Object(c["createVNode"])(i,{class:"nav-link",to:"/contactus"},{default:Object(c["withCtx"])((function(){return[y]})),_:1})])])],512)}var C=a("5779"),k={data:function(){return{collapse:""}},mixins:[C["a"]]};k.render=w;var L=k,S=a("1c33"),$={data:function(){return{isActive:!1,classList:{navbarTop:"",navbarInner:"",navbarShadow:""},innerWidth:"",cart:{},myFavorite:this.getLocalStorage()||[]}},inject:["emitter"],mixins:[S["a"]],components:{NavbarModal:L},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart");this.$http.get(e).then((function(e){e.data.success?t.cart=e.data.data.carts:t.$swal({title:'<p class="h4"> '.concat(e.message,"</p>"),icon:"error"})}))},mobileBtn:function(){var t=this.$refs.NavbarModal;t.toggleCollapse(),t.openCollapse&&(this.isActive=!0,this.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"})},getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.myFavorite.length>0&&this.myFavorite.forEach((function(e){var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/product/").concat(e);t.$http.get(a).then((function(e){e.data.success&&t.favoriteProduct.push(e.data.product)})).catch((function(){t.$swal({title:'<p class="h4"> 發生錯誤，請重新整理此頁面</p>',icon:"error"})}))}))}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){var e=window.scrollY;e>80?(t.isActive=!0,t.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"}):(t.isActive=!1,t.classList={navbarTop:"",navbarInner:"navbar-dark"})})),this.getCart(),this.getFavorite(),this.emitter.on("update-cart",(function(){t.getCart()})),this.emitter.on("update-favorite",(function(){t.myFavorite=t.getLocalStorage(),t.getFavorite()}))},unmounted:function(){var t=this;this.emitter.off("update-cart"),this.emitter.off("update-favorite"),window.removeEventListener("scroll",(function(){var e=window.scrollY;e>80?(t.isActive=!0,t.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"}):(t.isActive=!1,t.classList={navbarTop:"",navbarInner:"navbar-dark"})}))}};$.render=f;e["a"]=$},caad:function(t,e,a){"use strict";var c=a("23e7"),o=a("4d64").includes,n=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("includes")}}]);
//# sourceMappingURL=chunk-105f7666.ac2b1101.js.map