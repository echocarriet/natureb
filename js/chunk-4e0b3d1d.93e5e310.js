(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e0b3d1d"],{"1c33":function(t,e,a){"use strict";a("caad"),a("2532"),a("a434");e["a"]={methods:{saveLocalStorage:function(t){var e=JSON.stringify(t);localStorage.setItem("saveFavorite",e)},getLocalStorage:function(){return JSON.parse(localStorage.getItem("saveFavorite"))},addFavorite:function(t){this.myFavorite.includes(t.id)?(this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.$swal({title:'<p class="h4">商品已從收藏清單中移除</p>',icon:"success"})):(this.myFavorite.push(t.id),this.$swal({title:'<p class="h4">商品已加入收藏清單</p>',icon:"success"})),this.saveLocalStorage(this.myFavorite),this.emitter.emit("update-favorite")}},inject:["emitter"]}},2532:function(t,e,a){"use strict";var c=a("23e7"),r=a("5a34"),o=a("1d80"),n=a("ab13");c({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~String(o(this)).indexOf(r(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var c=a("861d"),r=a("c6b6"),o=a("b622"),n=o("match");t.exports=function(t){var e;return c(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==r(t))}},"5a34":function(t,e,a){var c=a("44e7");t.exports=function(t){if(c(t))throw TypeError("The method doesn't accept regular expressions");return t}},8619:function(t,e,a){"use strict";a.r(e);var c=a("7a23"),r=a("b365"),o=a.n(r),n=Object(c["createVNode"])("header",{class:"position-relative"},[Object(c["createVNode"])("img",{class:"bg-mask-60 img-cover pageBanner w-100",src:o.a,alt:"收藏banner"}),Object(c["createVNode"])("h2",{class:"position-absolute text-hv-center h2 fw-bold text-white-50 pageBanner-text"}," my whishlist ")],-1),i={class:"window-vh100"},s={key:0,class:"container py-7 py-md-9"},l=Object(c["createVNode"])("h3",{class:"h3 fw-bold mb-4 mb-md-6"},"收藏清單",-1),d={class:"table table-striped mb-4 mb-md-6"},b=Object(c["createVNode"])("thead",null,[Object(c["createVNode"])("tr",{class:"text-center bg-brown-400 d-none d-md-table-row"},[Object(c["createVNode"])("th",{class:"border-bottom-0",style:{width:"15%"}}),Object(c["createVNode"])("th",{class:"border-bottom-0",style:{width:"25%"}},"名稱"),Object(c["createVNode"])("th",{class:"text-start border-bottom-0",style:{width:"20%"}},"金額"),Object(c["createVNode"])("th",{class:"border-bottom-0",style:{width:"20%"}},"加入購物車"),Object(c["createVNode"])("th",{class:"border-bottom-0",style:{width:"15%"}},"刪除")])],-1),u={class:"d-none d-sm-table-cell"},p={class:"mb-2 mb-md-0"},h={class:"text-start"},v={key:0,class:"me-3 fw-bold mb-0 mb-sm-2",style:{"font-size":"17px"}},f=Object(c["createVNode"])("i",{class:"bi bi-cart-plus-fill h4"},null,-1),m=Object(c["createVNode"])("i",{class:"bi bi-trash h4"},null,-1),g={class:"text-end"},j=Object(c["createTextVNode"])("前往商店"),O={key:1,class:"container text-center py-7 py-md-9"},x=Object(c["createVNode"])("p",null,[Object(c["createTextVNode"])(" 收藏清單目前尚無商品唷 ! "),Object(c["createVNode"])("br"),Object(c["createTextVNode"])(" 歡迎至賣場逛逛 ")],-1),w=Object(c["createTextVNode"])("商品列表");function N(t,e,a,r,o,N){var y=Object(c["resolveComponent"])("Navbar"),V=Object(c["resolveComponent"])("Loading"),k=Object(c["resolveComponent"])("router-link"),C=Object(c["resolveComponent"])("Footer");return Object(c["openBlock"])(),Object(c["createBlock"])(c["Fragment"],null,[Object(c["createVNode"])(y),Object(c["createVNode"])(V,{active:o.isLoading,"z-index":1060},null,8,["active"]),n,Object(c["createVNode"])("div",i,[o.favoriteProduct.length>0?(Object(c["openBlock"])(),Object(c["createBlock"])("div",s,[l,Object(c["createVNode"])("table",d,[b,Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(o.favoriteProduct,(function(e){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:e,class:"align-middle text-center"},[Object(c["createVNode"])("th",u,[Object(c["createVNode"])("img",{src:e.product.imageUrl,alt:e.product.title,style:{width:"100px"}},null,8,["src","alt"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("p",p,Object(c["toDisplayString"])(e.product.title),1)]),Object(c["createVNode"])("td",h,[e.product.price!==e.product.origin_price?(Object(c["openBlock"])(),Object(c["createBlock"])("p",v," $"+Object(c["toDisplayString"])(t.$filters.currency(e.product.price)),1)):Object(c["createCommentVNode"])("",!0),Object(c["createVNode"])("span",{class:[e.product.price!==e.product.origin_price?["text-brown-400","text-decoration-line-through"]:["text-primary","h4","fw-bold"]]},"$"+Object(c["toDisplayString"])(t.$filters.currency(e.product.origin_price)),3)]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{type:"button",class:"btn btn-warning d-none d-md-block mx-auto",onClick:Object(c["withModifiers"])((function(t){return N.addToCart(e.product.id)}),["prevent"])}," 加入購物車 ",8,["onClick"]),Object(c["createVNode"])("button",{type:"button",class:"btn text-warning d-block d-md-none",onClick:Object(c["withModifiers"])((function(t){return N.addToCart(e.product.id)}),["prevent"])},[f],8,["onClick"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("button",{type:"button",class:"btn hover-text-brown-400",disabled:o.status.loadingItem===e.id,onClick:Object(c["withModifiers"])((function(t){return N.removeFavoriteItem(e)}),["prevent"])},[m],8,["disabled","onClick"])])])})),128))])]),Object(c["createVNode"])("div",g,[Object(c["createVNode"])(k,{class:"btn btn-primary text-white",to:"/products"},{default:Object(c["withCtx"])((function(){return[j]})),_:1})])])):(Object(c["openBlock"])(),Object(c["createBlock"])("div",O,[x,Object(c["createVNode"])(k,{class:"btn btn-primary",to:"/products"},{default:Object(c["withCtx"])((function(){return[w]})),_:1})]))]),Object(c["createVNode"])(C)],64)}a("159b"),a("99af"),a("a434");var y=a("bebf"),V=a("acd4"),k=a("1c33"),C={data:function(){return{isLoading:!1,status:{loadingItem:""},myFavorite:[],favoriteProduct:[]}},inject:["emitter"],mixins:[k["a"]],components:{Navbar:y["a"],Footer:V["a"]},methods:{getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.isLoading=!0,this.myFavorite.length>0?this.myFavorite.forEach((function(e){var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/product/").concat(e);t.$http.get(a).then((function(e){e.data.success?(t.favoriteProduct.push(e.data),t.isLoading=!1):t.isLoading=!1})).catch((function(){t.$swal({title:'<p class="h4"> 發生錯誤，請重新整理此頁面</p>',icon:"error"})}))})):this.isLoading=!1},addToCart:function(t){var e=this;this.isLoading=!0;var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart"),c={product_id:t,qty:1};this.$http.post(a,{data:c}).then((function(t){t.data.success?(e.isLoading=!1,e.emitter.emit("update-cart"),e.$swal({title:'<p class="h4"> '.concat(t.data.data.product.title," 加入購物車</p>"),icon:"success"})):e.$swal({title:'<p class="h4">'.concat(t.data.message," 發生錯誤，請重新把商品加入購物車</p>"),icon:"error"})})).catch((function(t){e.$swal({title:'<p class="h4">'.concat(t," 發生錯誤，請嘗試重新整理此頁面</p>"),icon:"error"})}))},removeFavoriteItem:function(t){this.myFavorite.splice(this.myFavorite.indexOf(t.id),1),this.saveLocalStorage(this.myFavorite),this.emitter.emit("update-favorite"),this.isLoading=!0,this.$swal({title:'<p class="h4">商品已從收藏中移除</p>',icon:"success"}),this.getFavorite()}},mounted:function(){this.getFavorite()}};C.render=N;e["default"]=C},"99af":function(t,e,a){"use strict";var c=a("23e7"),r=a("d039"),o=a("e8b5"),n=a("861d"),i=a("7b0b"),s=a("50c4"),l=a("8418"),d=a("65f0"),b=a("1dde"),u=a("b622"),p=a("2d00"),h=u("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",m=p>=51||!r((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),g=b("concat"),j=function(t){if(!n(t))return!1;var e=t[h];return void 0!==e?!!e:o(t)},O=!m||!g;c({target:"Array",proto:!0,forced:O},{concat:function(t){var e,a,c,r,o,n=i(this),b=d(n,0),u=0;for(e=-1,c=arguments.length;e<c;e++)if(o=-1===e?n:arguments[e],j(o)){if(r=s(o.length),u+r>v)throw TypeError(f);for(a=0;a<r;a++,u++)a in o&&l(b,u,o[a])}else{if(u>=v)throw TypeError(f);l(b,u++,o)}return b.length=u,b}})},ab13:function(t,e,a){var c=a("b622"),r=c("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[r]=!1,"/./"[t](e)}catch(c){}}return!1}},acd4:function(t,e,a){"use strict";var c=a("7a23"),r={class:"bg-brown-400 py-3"},o=Object(c["createVNode"])("div",{class:"container text-center"},[Object(c["createVNode"])("p",{class:"mb-0"},"此網站僅做為個人學習使用，非商業用途")],-1);function n(t,e){return Object(c["openBlock"])(),Object(c["createBlock"])("div",r,[o])}const i={};i.render=n;e["a"]=i},b365:function(t,e,a){t.exports=a.p+"img/whishlist.18c8f6e2.jpg"},bebf:function(t,e,a){"use strict";var c=a("7a23"),r={class:"container"},o={class:"logoText mb-0 d-flex align-items-center"},n=Object(c["createTextVNode"])("natureB"),i=Object(c["createVNode"])("i",{class:"bi bi-heart text-warning h3 mb-0"},null,-1),s={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},l=Object(c["createVNode"])("i",{class:"bi bi-cart text-warning h3 mb-0"},null,-1),d={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},b=Object(c["createVNode"])("span",{class:"navbar-toggler-icon"},null,-1),u=Object(c["createVNode"])("i",{class:"bi bi-heart text-warning h3"},null,-1),p={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}},h=Object(c["createVNode"])("i",{class:"bi bi-cart text-warning h3"},null,-1),v={class:"position-absolute d-flex justify-content-center align-items-center\n      rounded-circle text-white bg-primary h7",style:{top:"11px",right:"12px",width:"20px"}};function f(t,e,a,f,m,g){var j=Object(c["resolveComponent"])("router-link"),O=Object(c["resolveComponent"])("NavbarModal");return Object(c["openBlock"])(),Object(c["createBlock"])("nav",{class:["navbar navbar-expand-lg fixed-top",[m.isActive?[m.classList.navbarTop,m.classList.navbarInner,m.classList.navbarShadow]:"navbar-dark"]],id:"navbar-top"},[Object(c["createVNode"])("div",r,[Object(c["createVNode"])("h1",o,[Object(c["createVNode"])(j,{class:"navbar-brand fw-bold mb-0",style:{"font-size":"27px"},to:"/"},{default:Object(c["withCtx"])((function(){return[n]})),_:1})]),Object(c["createVNode"])(j,{class:"position-relative d-flex d-block d-lg-none ms-auto nav-link",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[i,Object(c["createVNode"])("span",s,Object(c["toDisplayString"])(m.myFavorite.length),1)]})),_:1}),Object(c["createVNode"])(j,{class:"position-relative d-flex d-block d-lg-none nav-link",to:"/cart"},{default:Object(c["withCtx"])((function(){return[l,Object(c["createVNode"])("span",d,Object(c["toDisplayString"])(m.cart.length),1)]})),_:1}),Object(c["createVNode"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",onClick:e[1]||(e[1]=function(){return g.mobileBtn&&g.mobileBtn.apply(g,arguments)})},[b]),Object(c["createVNode"])(O,{ref:"NavbarModal"},null,512),Object(c["createVNode"])(j,{class:"position-relative d-flex d-none d-lg-block nav-link",to:"/favorite"},{default:Object(c["withCtx"])((function(){return[u,Object(c["createVNode"])("span",p,Object(c["toDisplayString"])(m.myFavorite.length),1)]})),_:1}),Object(c["createVNode"])(j,{class:"position-relative d-flex d-none d-lg-block nav-link",to:"/cart"},{default:Object(c["withCtx"])((function(){return[h,Object(c["createVNode"])("span",v,Object(c["toDisplayString"])(m.cart.length),1)]})),_:1})])],2)}a("99af"),a("159b");var m={class:"collapse navbar-collapse",ref:"bsCollapse",id:"navbarNav"},g={class:"navbar-nav ms-auto mb-2 mb-lg-0"},j={class:"nav-item"},O=Object(c["createTextVNode"])("所有產品"),x={class:"nav-item"},w=Object(c["createTextVNode"])("常見問題"),N={class:"nav-item"},y=Object(c["createTextVNode"])("聯絡我們");function V(t,e,a,r,o,n){var i=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",m,[Object(c["createVNode"])("ul",g,[Object(c["createVNode"])("li",j,[Object(c["createVNode"])(i,{class:"nav-link",to:"/products"},{default:Object(c["withCtx"])((function(){return[O]})),_:1})]),Object(c["createVNode"])("li",x,[Object(c["createVNode"])(i,{class:"nav-link",to:"/faq"},{default:Object(c["withCtx"])((function(){return[w]})),_:1})]),Object(c["createVNode"])("li",N,[Object(c["createVNode"])(i,{class:"nav-link",to:"/contactus"},{default:Object(c["withCtx"])((function(){return[y]})),_:1})])])],512)}var k=a("5779"),C={data:function(){return{collapse:""}},mixins:[k["a"]]};C.render=V;var F=C,L=a("1c33"),S={data:function(){return{isActive:!1,classList:{navbarTop:"",navbarInner:"",navbarShadow:""},innerWidth:"",cart:{},myFavorite:this.getLocalStorage()||[]}},inject:["emitter"],mixins:[L["a"]],components:{NavbarModal:F},methods:{getCart:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/cart");this.$http.get(e).then((function(e){e.data.success?t.cart=e.data.data.carts:t.$swal({title:'<p class="h4"> '.concat(e.message,"</p>"),icon:"error"})}))},mobileBtn:function(){var t=this.$refs.NavbarModal;t.toggleCollapse(),t.openCollapse&&(this.isActive=!0,this.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"})},getFavorite:function(){var t=this;this.myFavorite=this.getLocalStorage()||[],this.favoriteProduct=[],this.myFavorite.length>0&&this.myFavorite.forEach((function(e){var a="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/product/").concat(e);t.$http.get(a).then((function(e){e.data.success&&t.favoriteProduct.push(e.data.product)})).catch((function(){t.$swal({title:'<p class="h4"> 發生錯誤，請重新整理此頁面</p>',icon:"error"})}))}))}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){var e=window.scrollY;e>80?(t.isActive=!0,t.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"}):(t.isActive=!1,t.classList={navbarTop:"",navbarInner:"navbar-dark"})})),this.getCart(),this.getFavorite(),this.emitter.on("update-cart",(function(){t.getCart()})),this.emitter.on("update-favorite",(function(){t.myFavorite=t.getLocalStorage(),t.getFavorite()}))},unmounted:function(){var t=this;this.emitter.off("update-cart"),this.emitter.off("update-favorite"),window.removeEventListener("scroll",(function(){var e=window.scrollY;e>80?(t.isActive=!0,t.classList={navbarTop:"bg-transparent-white90",navbarInner:"navbar-light",navbarShadow:"shadow-sm"}):(t.isActive=!1,t.classList={navbarTop:"",navbarInner:"navbar-dark"})}))}};S.render=f;e["a"]=S},caad:function(t,e,a){"use strict";var c=a("23e7"),r=a("4d64").includes,o=a("44d2");c({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=chunk-4e0b3d1d.93e5e310.js.map