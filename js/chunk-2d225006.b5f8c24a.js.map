{"version":3,"sources":["webpack:///./src/views/backend/Dashboard.vue","webpack:///./src/components/backend/Navbar.vue","webpack:///./src/components/backend/NavbarModal.vue","webpack:///./src/components/backend/NavbarModal.vue?89f9","webpack:///./src/components/backend/Navbar.vue?6f9b","webpack:///./src/views/backend/Dashboard.vue?aab2"],"names":["status","class","href","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","$refs","NavbarModal","toggleCollapse","ref","to","signOut","data","collapse","mixins","CollapseMixin","inject","methods","api","this","$http","post","then","response","success","$httpMessageState","document","cookie","$router","push","render","components","Navbar","created","token","replace","defaults","headers","common","Authorization","catch","err"],"mappings":"4RACA,sEAAU,GACW,EAAAA,Q,yBAAnB,yBAA6B,GAD/B,iD,+BCAOC,MAAM,6D,GACJA,MAAM,a,EACT,yBAA+D,MAA3DA,MAAM,4BAA4BC,KAAK,KAAI,eAAW,G,EAWxD,yBAAyC,QAAnCD,MAAM,uBAAqB,S,2GAbvC,yBAkBM,MAlBN,EAkBM,CAjBJ,yBAgBM,MAhBN,EAgBM,CAfJ,EACA,yBAWS,UAVPA,MAAM,iBACNE,KAAK,SACLC,iBAAe,WACfC,iBAAe,0BACfC,gBAAc,yBACdC,gBAAc,QACdC,aAAW,oBACV,QAAK,+BAAE,EAAAC,MAAMC,YAAYC,oB,CAE1B,IAGF,yBAAiC,GAApBC,IAAI,eAAa,c,OChB7BX,MAAM,2BAA2BW,IAAI,c,GACpCX,MAAM,mC,GACJA,MAAM,Y,+BACkC,M,GAExCA,MAAM,Y,+BACyC,M,GAE/CA,MAAM,Y,+BAC0C,O,GAEhDA,MAAM,Y,2GAXd,yBAeM,MAfN,EAeM,CAdJ,yBAaK,KAbL,EAaK,CAZH,yBAEK,KAFL,EAEK,CADH,yBAA0D,GAA7CA,MAAM,WAAWY,GAAG,U,+BAAS,iBAAE,C,cAE9C,yBAEK,KAFL,EAEK,CADH,yBAAiE,GAApDZ,MAAM,WAAWY,GAAG,iB,+BAAgB,iBAAE,C,cAErD,yBAEK,KAFL,EAEK,CADH,yBAAmE,GAAtDZ,MAAM,WAAWY,GAAG,kB,+BAAiB,iBAAG,C,cAEvD,yBAEK,KAFL,EAEK,CADH,yBAAoD,KAAjDX,KAAK,IAAID,MAAM,WAAY,QAAK,8BAAE,EAAAa,SAAA,EAAAA,QAAA,sBAAS,W,qBAQvC,GACbC,KADa,WAEX,MAAO,CACLC,SAAU,KAGdC,OAAQ,CAACC,EAAA,MACTC,OAAQ,CAAC,qBACTC,QAAS,CACPN,QADO,WACG,WACFO,EAAE,UAAO,uCAAP,WACRC,KAAKC,MAAMC,KAAKH,GAAKI,MAAK,SAACC,GACrBA,EAASX,KAAKY,UAChB,EAAKC,kBAAkBF,EAAU,MAEjCG,SAASC,OAAS,oCAClB,EAAKC,QAAQC,KAAK,iBClC5B,EAAOC,OAAS,EAED,QFmBA,GACbd,OAAQ,CAAC,WACTe,WAAY,CACVxB,gBGxBJ,EAAOuB,OAAS,EAED,QJEA,GACblB,KADa,WAEX,MAAO,CACLf,QAAQ,IAGZmB,OAAQ,CAAC,qBACTe,WAAY,CACVC,UAEFC,QAVa,WAUH,WAEFC,EAAQR,SAASC,OAAOQ,QAC5B,uDACA,MAEFhB,KAAKC,MAAMgB,SAASC,QAAQC,OAAOC,cAAgBL,EAEnD,IAAMhB,EAAE,UAAO,uCAAP,mBACRC,KAAKC,MACFC,KAAKH,GACLI,MAAK,SAACC,GACDA,EAASX,KAAKY,QAChB,EAAK3B,QAAS,GAEd,EAAK4B,kBAAkBF,EAAU,QACjC,EAAKK,QAAQC,KAAK,cAGrBW,OAAM,SAACC,GACN,EAAKhB,kBAAkBgB,QKlC/B,EAAOX,OAASA,EAED","file":"js/chunk-2d225006.b5f8c24a.js","sourcesContent":["<template>\n  <Navbar />\n  <router-view v-if=\"status\" />\n</template>\n<script>\nimport Navbar from '@/components/backend/Navbar.vue';\n\nexport default {\n  data() {\n    return {\n      status: false,\n    };\n  },\n  inject: ['$httpMessageState'],\n  components: {\n    Navbar,\n  },\n  created() {\n    // 從 cookie 取出 token，所有 axios 請求都會加上 token\n    const token = document.cookie.replace(\n      /(?:(?:^|.*;\\s*)carrieHexToken\\s*=\\s*([^;]*).*$)|^.*$/,\n      '$1',\n    );\n    this.$http.defaults.headers.common.Authorization = token;\n    // 檢查用戶是否仍持續登入API\n    const api = `${process.env.VUE_APP_API}/api/user/check`;\n    this.$http\n      .post(api)\n      .then((response) => {\n        if (response.data.success) {\n          this.status = true;\n        } else {\n          this.$httpMessageState(response, '登入結果');\n          this.$router.push('/login');\n        }\n      })\n      .catch((err) => {\n        this.$httpMessageState(err);\n      });\n  },\n};\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-primary sticky-top\">\n    <div class=\"container\">\n      <h1 class=\"navbar-brand fw-bold mb-0\" href=\"#\">natureB 後台區</h1>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarSupportedContent\"\n        aria-controls=\"navbarSupportedContent\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n        @click=\"$refs.NavbarModal.toggleCollapse()\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <!-- NavbarModal       -->\n      <NavbarModal ref=\"NavbarModal\" />\n    </div>\n  </nav>\n</template>\n<script>\nimport NavbarModal from '@/components/backend/NavbarModal.vue';\n\nexport default {\n  inject: ['emitter'],\n  components: {\n    NavbarModal,\n  },\n};\n</script>\n","<template>\n  <div class=\"collapse navbar-collapse\" ref=\"bsCollapse\">\n    <ul class=\"navbar-nav ml-auto mb-2 mb-lg-0\">\n      <li class=\"nav-item\">\n        <router-link class=\"nav-link\" to=\"/admin\">產品</router-link>\n      </li>\n      <li class=\"nav-item\">\n        <router-link class=\"nav-link\" to=\"/admin/orders\">訂單</router-link>\n      </li>\n      <li class=\"nav-item\">\n        <router-link class=\"nav-link\" to=\"/admin/coupons\">優惠券</router-link>\n      </li>\n      <li class=\"nav-item\">\n        <a href=\"#\" class=\"nav-link\" @click=\"signOut\">登出</a>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport CollapseMixin from '@/mixins/CollapseMixin';\n\nexport default {\n  data() {\n    return {\n      collapse: '',\n    };\n  },\n  mixins: [CollapseMixin],\n  inject: ['$httpMessageState'],\n  methods: {\n    signOut() {\n      const api = `${process.env.VUE_APP_API}/logout`;\n      this.$http.post(api).then((response) => {\n        if (response.data.success) {\n          this.$httpMessageState(response, '登出');\n          // 清除 cookie\n          document.cookie = 'carrieHexToken=; expires=; path=/';\n          this.$router.push('/login');\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./NavbarModal.vue?vue&type=template&id=f06a622e\"\nimport script from \"./NavbarModal.vue?vue&type=script&lang=js\"\nexport * from \"./NavbarModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Navbar.vue?vue&type=template&id=2fefd4d5\"\nimport script from \"./Navbar.vue?vue&type=script&lang=js\"\nexport * from \"./Navbar.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Dashboard.vue?vue&type=template&id=208023b6\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}