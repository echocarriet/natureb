(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b06b0014"],{"99af":function(e,t,r){"use strict";var c=r("23e7"),o=r("d039"),a=r("e8b5"),n=r("861d"),d=r("7b0b"),s=r("50c4"),l=r("8418"),b=r("65f0"),i=r("1dde"),u=r("b622"),p=r("2d00"),O=u("isConcatSpreadable"),j=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!o((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),f=i("concat"),N=function(e){if(!n(e))return!1;var t=e[O];return void 0!==t?!!t:a(e)},y=!m||!f;c({target:"Array",proto:!0,forced:y},{concat:function(e){var t,r,c,o,a,n=d(this),i=b(n,0),u=0;for(t=-1,c=arguments.length;t<c;t++)if(a=-1===t?n:arguments[t],N(a)){if(o=s(a.length),u+o>j)throw TypeError(h);for(r=0;r<o;r++,u++)r in a&&l(i,u,a[r])}else{if(u>=j)throw TypeError(h);l(i,u++,a)}return i.length=u,i}})},b0c0:function(e,t,r){var c=r("83ab"),o=r("9bf2").f,a=Function.prototype,n=a.toString,d=/^\s*function ([^ (]*)/,s="name";c&&!(s in a)&&o(a,s,{configurable:!0,get:function(){try{return n.call(this).match(d)[1]}catch(e){return""}}})},b7c8:function(e,t,r){"use strict";r.r(t);r("b0c0");var c=r("7a23"),o={class:"container py-6 py-md-8"},a={class:"logoText pb-2 mb-6 border-bottom"},n=Object(c["createTextVNode"])("natureB"),d={class:"row"},s={class:"col-md-6"},l=Object(c["createVNode"])("h2",{class:"h4 fw-bold mb-4 mb-md-6"},"訂單清單",-1),b={class:"table table-striped mb-4 mb-md-6"},i={class:"mb-2 mb-md-0"},u={class:"h6"},p={class:"d-table-cell d-lg-none"},O={class:"text-center d-none d-lg-table-cell"},j={colspan:"3",class:"border-0"},h={class:"h4 fw-bold text-end mb-3"},m={class:"col-md-6"},f=Object(c["createVNode"])("hr",{class:"d-block d-md-none my-6 my-md-0"},null,-1),N=Object(c["createVNode"])("h2",{class:"h4 fw-bold mb-4 mb-md-6"},"收件資訊",-1),y={class:"table border border-brown-400 rounded"},V=Object(c["createVNode"])("th",{class:"fw-normal border-0"},"訂單編號",-1),g={class:"text-secondary fw-normal border-0"},w=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"姓名",-1),k={class:"text-secondary fw-normal border-0"},x=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"電話",-1),v={class:"text-secondary fw-normal border-0"},$=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"信箱",-1),B={class:"text-secondary fw-normal border-0"},S=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"地址",-1),D={class:"text-secondary fw-normal border-0"},L=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"付款方式",-1),I={class:"text-secondary fw-normal border-0"},T=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"留言",-1),C={class:"text-secondary fw-normal border-0"},q=Object(c["createVNode"])("th",{class:"fw-normal  border-0"},"付款狀態",-1),_={class:"text-secondary fw-normal border-0"},E={key:0},F={key:1,class:"text-danger"},J=Object(c["createVNode"])("hr",null,null,-1),z={class:"text-center"};function A(e,t,r,A,M,U){var G=Object(c["resolveComponent"])("Loading"),H=Object(c["resolveComponent"])("router-link");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])(G,{active:M.isLoading,"z-index":1060},null,8,["active"]),Object(c["createVNode"])("h1",a,[Object(c["createVNode"])(H,{class:"h3 fw-bold mb-0",to:"/"},{default:Object(c["withCtx"])((function(){return[n]})),_:1})]),Object(c["createVNode"])("div",d,[Object(c["createVNode"])("div",s,[l,Object(c["createVNode"])("table",b,[Object(c["createVNode"])("tbody",null,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(M.order.products,(function(t){return Object(c["openBlock"])(),Object(c["createBlock"])("tr",{key:t,class:"align-middle"},[Object(c["createVNode"])("td",null,[Object(c["createVNode"])("img",{src:t.product.imageUrl,alt:t.product.title,style:{width:"100px"}},null,8,["src","alt"])]),Object(c["createVNode"])("td",null,[Object(c["createVNode"])("p",i,Object(c["toDisplayString"])(t.product.title),1),Object(c["createVNode"])("p",u,"數量 : "+Object(c["toDisplayString"])(t.qty),1),Object(c["createVNode"])("p",p," NT $"+Object(c["toDisplayString"])(e.$filters.currency(t.product.price*t.qty)),1)]),Object(c["createVNode"])("td",O," NT $"+Object(c["toDisplayString"])(e.$filters.currency(t.product.price*t.qty)),1)])})),128))]),Object(c["createVNode"])("tfoot",null,[Object(c["createVNode"])("tr",null,[Object(c["createVNode"])("td",j,[Object(c["createVNode"])("p",h," 總金額 : NT $"+Object(c["toDisplayString"])(e.$filters.currency(M.order.total)),1)])])])])]),Object(c["createVNode"])("div",m,[f,N,Object(c["createVNode"])("table",y,[Object(c["createVNode"])("tbody",null,[Object(c["createVNode"])("tr",null,[V,Object(c["createVNode"])("td",g,Object(c["toDisplayString"])(M.orderId),1)]),Object(c["createVNode"])("tr",null,[w,Object(c["createVNode"])("td",k,Object(c["toDisplayString"])(M.order.user.name),1)]),Object(c["createVNode"])("tr",null,[x,Object(c["createVNode"])("td",v,Object(c["toDisplayString"])(M.order.user.tel),1)]),Object(c["createVNode"])("tr",null,[$,Object(c["createVNode"])("td",B,Object(c["toDisplayString"])(M.order.user.email),1)]),Object(c["createVNode"])("tr",null,[S,Object(c["createVNode"])("td",D,Object(c["toDisplayString"])(M.order.user.address),1)]),Object(c["createVNode"])("tr",null,[L,Object(c["createVNode"])("td",I,Object(c["toDisplayString"])(M.order.user.payment),1)]),Object(c["createVNode"])("tr",null,[T,Object(c["createVNode"])("td",C,Object(c["toDisplayString"])(M.order.message),1)]),Object(c["createVNode"])("tr",null,[q,Object(c["createVNode"])("td",_,[M.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("span",E,"已付款")):(Object(c["openBlock"])(),Object(c["createBlock"])("span",F,"尚未付款"))])])])])])]),J,Object(c["createVNode"])("div",z,[M.order.is_paid?(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:1,class:"btn btn-primary text-white btn-lg",onClick:t[2]||(t[2]=function(t){return e.$router.push("/products")})}," 繼續購物 ")):(Object(c["openBlock"])(),Object(c["createBlock"])("button",{key:0,class:"btn btn-warning btn-lg",onClick:t[1]||(t[1]=function(){return U.payOrder&&U.payOrder.apply(U,arguments)})}," 確認結帳 "))])])}r("99af");var M={data:function(){return{isLoading:!1,order:{user:{name:"",email:"",tel:"",address:"",payment:""}},price:"",orderId:""}},methods:{getOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/order/").concat(this.orderId);this.isLoading=!0,this.$http.get(t).then((function(t){t.data.success?(e.order=t.data.order,e.isLoading=!1):e.$swal({title:'<p class="h4">出現異常，請洽技術人員</p>',icon:"error"})})).catch((function(t){e.$swal({title:'<p class="h4">'.concat(t,"</p>"),icon:"error"})}))},payOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("echocarriet","/pay/").concat(this.orderId);this.isLoading=!0,this.$http.post(t).then((function(t){t.data.success?(e.$swal({title:'<p class="h4">'.concat(t.data.message,"</p>"),icon:"success"}),e.$router.push("/paymentsuccess/".concat(e.orderId)),e.getOrder()):e.$swal({title:'<p class="h4">'.concat(t.data.message,"</p>"),icon:"error"}),e.isLoading=!1})).catch((function(t){e.$swal({title:'<p class="h4">'.concat(t,"</p>"),icon:"error"})}))}},mounted:function(){this.orderId=this.$route.params.orderId,this.getOrder()}};M.render=A;t["default"]=M}}]);
//# sourceMappingURL=chunk-b06b0014.f7ed13b7.js.map